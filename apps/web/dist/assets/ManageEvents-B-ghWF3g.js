import{z as d,j as e,L as i}from"./index-DbUEaAMy.js";import{r}from"./react-Dp4Gqg7U.js";import{b as h,c as p}from"./admin.api-hQNrEoI-.js";import"./firebase-Co7q5P-C.js";import"./firebase-CmtxdFcx.js";const N=()=>{const[c,l]=r.useState([]),[x,n]=r.useState(!0);r.useEffect(()=>{o()},[]);const o=async()=>{try{n(!0);const t=await h();l(t)}catch{d.error("이벤트 로드 실패")}finally{n(!1)}},m=async t=>{window.confirm("삭제하시겠습니까?")&&(await p(t),l(a=>a.filter(s=>s.id!==t)),d.success("삭제되었습니다."))};return x?e.jsx("div",{className:"text-center py-10",children:"Loading."}):e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"이벤트 관리"}),e.jsx(i,{to:"/admin/add-event",className:"bg-green-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-600",children:"+ 이벤트 등록"})]}),e.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:e.jsxs("table",{className:"min-w-full leading-normal",children:[e.jsx("thead",{className:"bg-gray-100 text-gray-600",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-5 py-3 text-left text-xs font-bold uppercase",children:"이름"}),e.jsx("th",{className:"px-5 py-3 text-left text-xs font-bold uppercase",children:"날짜"}),e.jsx("th",{className:"px-5 py-3 text-left text-xs font-bold uppercase",children:"장소"}),e.jsx("th",{className:"px-5 py-3 text-right text-xs font-bold uppercase",children:"관리"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:c.map((t,a)=>{const s=t.id;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-5 py-4",children:t.name||t.title}),e.jsx("td",{className:"px-5 py-4",children:t.date}),e.jsx("td",{className:"px-5 py-4",children:t.location}),e.jsxs("td",{className:"px-5 py-4 text-right space-x-2",children:[e.jsx(i,{to:`/admin/edit-event/${s??""}`,className:"text-blue-600 hover:underline",children:"수정"}),e.jsx("button",{className:"text-red-600 hover:underline",onClick:()=>{s&&m(s)},disabled:!s,title:s?"삭제":"이벤트 ID가 없습니다",children:"삭제"})]})]},s??`${t.title}-${a}`)})})]})})]})};export{N as default};
