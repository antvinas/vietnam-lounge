import{f as g,j as t}from"./index-DbUEaAMy.js";import{r}from"./react-Dp4Gqg7U.js";import{u as f}from"./useFocusTrap-BFFwDj3m.js";import{u,t as p}from"./strings-CHsM0M4y.js";import{u as b}from"./plan.store-BbBRFP49.js";const h=[{id:"hanoi",title:"하노이"},{id:"danang",title:"다낭"},{id:"hcmc",title:"호치민"},{id:"phuquoc",title:"푸꾸옥"}];function N(){const n=g(),o=u(e=>e.locale),i=b(e=>e.importSampleTrip),d=u(e=>e.setLastSampleTripId),[l,c]=r.useState(null),m=r.useRef(null);f(m);const a=r.useCallback(()=>{n("/plan",{replace:!0})},[n]);r.useEffect(()=>{const e=s=>{s.key==="Escape"&&(s.preventDefault(),a())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[a]);const x=r.useCallback(async e=>{if(!i){a();return}if(!l){c(e);try{const s=await i({templateId:e,isSample:!0});s&&d(s)}catch(s){console.error("Failed to import sample:",s)}finally{c(null),a()}}},[a,i,l,d]);return t.jsxs("div",{role:"dialog","aria-modal":"true",className:"fixed inset-0 z-50 flex items-center justify-center",onClick:e=>{e.target===e.currentTarget&&a()},children:[t.jsx("div",{className:"absolute inset-0 bg-black/40"}),t.jsxs("div",{ref:m,className:"relative z-10 w-full max-w-2xl rounded-2xl bg-white p-6 shadow-xl dark:bg-gray-900",children:[t.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[t.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:p(o,"sample","title")}),t.jsx("button",{type:"button",className:"rounded px-2 py-1 text-sm text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-800",onClick:a,children:p(o,"sample","close")})]}),t.jsx("p",{className:"mb-6 text-sm text-gray-500 dark:text-gray-400",children:"여행하고 싶은 도시를 선택하세요. 3박 4일 추천 코스가 자동으로 생성됩니다."}),t.jsx("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2",children:h.map(e=>t.jsxs("button",{type:"button",onClick:()=>x(e.id),disabled:!!l,className:"flex items-center justify-between rounded-xl border p-4 text-left hover:bg-gray-50 disabled:opacity-50 dark:border-gray-800 dark:hover:bg-gray-800",children:[t.jsx("span",{className:"font-semibold",children:e.title}),t.jsx("span",{className:"text-sm text-gray-500",children:l===e.id?"생성중...":"선택"})]},e.id))})]})]})}export{N as default};
