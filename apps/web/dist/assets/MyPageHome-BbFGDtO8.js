import{j as e,a5 as u,a6 as x,s as m,a7 as b,a8 as j,L as l,a9 as n,f as v,r as f,aa as w,ab as y,a1 as N,ac as k}from"./index-DbUEaAMy.js";import{r as A}from"./react-Dp4Gqg7U.js";import{u as d}from"./useQuery-BhrWanxj.js";import{g as F,a as C}from"./user.api-DrmP_lWn.js";import{L as M}from"./Loading-sQkuDrhk.js";import S from"./Settings-DWXyB6Gv.js";import R from"./MyFavorites-B70fkj0n.js";import T from"./MyCoupons-DIYQcjDI.js";import L from"./MyReviews-bVANO72X.js";import"./api-Czske0s_.js";import"./useMutation-C76_koY-.js";import"./index.esm-Ca_OQud3.js";import"./index-FMo13rtH.js";const P="https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png",c=()=>{const{data:r,isLoading:i}=d({queryKey:["userProfile"],queryFn:F}),{data:s}=d({queryKey:["userSummary"],queryFn:C});if(i)return e.jsx("div",{className:"h-96 flex items-center justify-center",children:e.jsx(M,{})});if(!r)return e.jsx("div",{className:"p-10 text-center text-gray-500",children:"회원 정보를 불러올 수 없습니다."});const t=r.role==="admin";return e.jsxs("div",{className:"space-y-8 pb-10",children:[e.jsxs("div",{className:`relative w-full h-56 rounded-2xl overflow-hidden shadow-2xl transition-transform hover:scale-[1.01] ${t?"bg-gradient-to-r from-gray-900 to-black border border-yellow-600":"bg-gradient-to-r from-purple-900 to-indigo-900"}`,children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black/5 to-transparent"}),e.jsxs("div",{className:"absolute top-6 left-6 flex items-center gap-4 z-10",children:[e.jsx("div",{className:"w-16 h-16 rounded-full border-2 border-white/30 overflow-hidden bg-white/10 backdrop-blur-md",children:e.jsx("img",{src:r.avatar||P,alt:"Profile",className:"w-full h-full object-cover"})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[r.nickname,t&&e.jsx(u,{className:"text-yellow-400 text-lg"})]}),e.jsx("p",{className:"text-white/70 text-sm",children:r.email})]})]}),e.jsxs("div",{className:"absolute bottom-6 left-6 z-10",children:[e.jsx("p",{className:"text-white/50 text-xs uppercase tracking-widest mb-1",children:"Membership"}),e.jsx("p",{className:"text-xl font-bold text-white tracking-widest",children:t?"ADMINISTRATOR":r.grade||"STANDARD MEMBER"})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx(o,{icon:e.jsx(x,{}),value:s==null?void 0:s.couponCount,label:"쿠폰함",color:"purple"}),e.jsx(o,{icon:e.jsx(m,{}),value:s==null?void 0:s.favoriteCount,label:"관심 장소",color:"pink"}),e.jsx(o,{icon:e.jsx(b,{}),value:s==null?void 0:s.reviewCount,label:"작성 리뷰",color:"green"})]}),t&&e.jsxs("div",{className:"bg-gray-900 text-white p-6 rounded-xl shadow-lg",children:[e.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[e.jsx(j,{className:"text-green-400"})," 관리자 메뉴"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs(l,{to:"/admin",className:"p-4 bg-white/10 rounded-lg hover:bg-white/20 transition flex justify-between items-center group",children:[e.jsx("span",{children:"대시보드"})," ",e.jsx(n,{className:"text-white/50 group-hover:text-white"})]}),e.jsxs(l,{to:"/admin/spots/new",className:"p-4 bg-white/10 rounded-lg hover:bg-white/20 transition flex justify-between items-center group",children:[e.jsx("span",{children:"장소 등록"})," ",e.jsx(n,{className:"text-white/50 group-hover:text-white"})]})]})]})]})},o=({icon:r,value:i,label:s,color:t})=>e.jsxs("div",{className:`p-5 rounded-xl border border-gray-100 dark:border-gray-700 bg-white dark:bg-gray-800 text-center hover:border-${t}-500 transition cursor-pointer shadow-sm group`,children:[e.jsx("div",{className:`inline-flex p-3 rounded-full mb-3 bg-${t}-50 text-${t}-500 group-hover:scale-110 transition`,children:r}),e.jsx("h4",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:i||0}),e.jsx("p",{className:"text-xs text-gray-500",children:s})]}),V=()=>{const r=v(),{logout:i}=f(),[s,t]=A.useState("overview"),g=()=>{i(),r("/")},h=[{id:"overview",label:"내 활동 요약",icon:e.jsx(y,{})},{id:"my-coupons",label:"내 쿠폰함",icon:e.jsx(x,{})},{id:"my-favorites",label:"관심 장소",icon:e.jsx(m,{})},{id:"my-reviews",label:"나의 리뷰",icon:e.jsx(N,{})},{id:"settings",label:"설정 및 보안",icon:e.jsx(k,{})}],p=()=>{switch(s){case"overview":return e.jsx(c,{});case"my-coupons":return e.jsx(T,{});case"my-favorites":return e.jsx(R,{});case"my-reviews":return e.jsx(L,{});case"settings":return e.jsx(S,{});default:return e.jsx(c,{})}};return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 pt-20 pb-20",children:e.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsx("aside",{className:"lg:w-64 flex-shrink-0",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 p-4 sticky top-24",children:[e.jsx("nav",{className:"space-y-1",children:h.map(a=>e.jsxs("button",{onClick:()=>t(a.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium transition-all ${s===a.id?"bg-gray-900 text-white dark:bg-white dark:text-gray-900 shadow-md":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[e.jsx("span",{className:s===a.id?"":"text-gray-400",children:a.icon}),a.label]},a.id))}),e.jsx("div",{className:"mt-6 pt-6 border-t border-gray-100 dark:border-gray-700",children:e.jsxs("button",{onClick:g,className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium text-red-500 hover:bg-red-50 dark:hover:bg-red-900/10 transition-colors",children:[e.jsx(w,{})," 로그아웃"]})})]})}),e.jsx("main",{className:"flex-1 bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 p-6 min-h-[600px]",children:p()})]})})})};export{V as default};
