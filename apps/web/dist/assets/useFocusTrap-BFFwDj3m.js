import{r as b}from"./react-Dp4Gqg7U.js";function h(n,c=!0){const t=b.useRef(null),{containerRef:a,active:f,restoreFocus:l}=m(n,c);b.useEffect(()=>{if(!f)return;const i=a;if(!i||!("current"in i))return;const e=i.current;if(!e)return;t.current=document.activeElement??null;const u=e.querySelectorAll(["a[href]","button:not([disabled])","textarea:not([disabled])","input:not([disabled])","select:not([disabled])","[tabindex]:not([tabindex='-1'])"].join(",")),s=u[0],d=u[u.length-1];s?s.focus():(e.hasAttribute("tabindex")||(e.tabIndex=-1),e.focus());const v=o=>{if(o.key!=="Tab")return;if(!u.length){o.preventDefault();return}const r=document.activeElement;o.shiftKey?(!r||r===s||!e.contains(r))&&(o.preventDefault(),d.focus()):(!r||r===d||!e.contains(r))&&(o.preventDefault(),s.focus())};return e.addEventListener("keydown",v),()=>{if(e.removeEventListener("keydown",v),l&&t.current)try{t.current.focus()}catch{}}},[a,f,l])}function m(n,c){if(!n)return{containerRef:null,active:!1,restoreFocus:!0};if("current"in n)return{containerRef:n,active:c,restoreFocus:!0};const t=n;return{containerRef:t.containerRef??null,active:t.active??c,restoreFocus:t.restoreFocus??!0}}export{h as u};
