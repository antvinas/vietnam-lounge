import{a as S,f as m,g as l,u as w}from"./spot.write-Cy02D3Oi.js";import{s as y}from"./spot.search-Bgh3s1s1.js";import{q as p,o as d,g as n,a as g,c as i,u as h,d as A,l as C,w as D}from"./firebase-Co7q5P-C.js";import{d as c}from"./firebase-CmtxdFcx.js";import{g as r,s as b,a as q}from"./firestore-DzFVOJbi.js";function u(o,t){return i(c,r(o),t,"reviews")}async function v(o,t){const e=p(u(t,o),d("createdAt","desc"));return(await n(e)).docs.map(s=>({id:s.id,...s.data()}))}async function O(o,t,e){const a={...t,createdAt:t.createdAt??new Date().toISOString()};await g(u(e,o),a)}function R(o,t){return i(c,r(o),t,"coupons")}function T(o,t,e){return A(c,r(o),t,"coupons",e)}async function _(o,t){return(await n(R(t,o))).docs.map(a=>({id:a.id,...a.data()}))}async function B(o,t,e){await h(T(e,o,t),{isRedeemed:!0,redeemedAt:new Date().toISOString()})}async function f(o,t=10){const e=p(b(o),D("isSponsored","==",!0),d("updatedAt","desc"),C(t));return(await n(e)).docs.map(s=>q(s,o))}const I=f,P=Object.freeze(Object.defineProperty({__proto__:null,addReviewToSpot:O,addSpot:S,fetchCoupons:_,fetchSponsoredSpots:f,fetchSpotById:m,fetchSpotReviews:v,getSponsoredSpots:I,getSpots:l,redeemCoupon:B,searchSpotsByText:y,updateSpot:w},Symbol.toStringTag,{value:"Module"}));export{P as S};
